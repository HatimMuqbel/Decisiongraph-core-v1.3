template_id: cp.cgl.standard
template_version: "2026.02.01"
domain: insurance
policy_pack_id: "CGL-STD"
policy_pack_version: "2024.1"

ui:
  title: "Commercial General Liability (CGL)"
  summary_tokens:
    - { field: policy.status }
    - { field: cgl.loss_type }
    - { field: cgl.amount_band }
    - { field: cgl.lawsuit_filed }

fields:
  policy.status:
    label: "Policy Status"
    control_type: select
    options: [active, lapsed, cancelled]
    default: active

  cgl.loss_type:
    label: "Loss Type"
    control_type: select
    options:
      - { value: bodily_injury, label: "Bodily Injury" }
      - { value: property_damage, label: "Property Damage" }
      - { value: personal_injury, label: "Personal Injury" }
      - { value: advertising_injury, label: "Advertising Injury" }
      - { value: products_liability, label: "Products Liability" }
    default: bodily_injury

  cgl.occurrence_during_policy:
    label: "Occurrence During Policy"
    control_type: toggle
    default: true

  cgl.in_coverage_territory:
    label: "In Coverage Territory"
    control_type: toggle
    default: true

  cgl.expected_intended:
    label: "Expected/Intended"
    control_type: toggle
    default: false

  cgl.pollution_related:
    label: "Pollution Related"
    control_type: toggle
    default: false

  cgl.auto_involved:
    label: "Auto Involved"
    control_type: toggle
    default: false

  cgl.contractual_liability:
    label: "Contractual Liability"
    control_type: toggle
    default: false

  cgl.professional_services:
    label: "Professional Services"
    control_type: toggle
    default: false

  cgl.your_work_product:
    label: "Your Work/Product"
    control_type: toggle
    default: false

  cgl.lawsuit_filed:
    label: "Lawsuit Filed"
    control_type: toggle
    default: false

  cgl.amount_band:
    label: "Claim Amount"
    control_type: select
    options:
      - { value: "under_25k", label: "Under $25K" }
      - { value: "25k_100k", label: "$25K - $100K" }
      - { value: "100k_500k", label: "$100K - $500K" }
      - { value: "500k_plus", label: "$500K+" }
    default: "under_25k"

  cgl.liquor_liability:
    label: "Liquor Liability"
    control_type: toggle
    default: false

  cgl.employers_liability:
    label: "Employers Liability (Employee Injury)"
    control_type: toggle
    default: false

  cgl.aircraft_watercraft:
    label: "Aircraft/Watercraft Involved"
    control_type: toggle
    default: false

  cgl.damage_to_your_product:
    label: "Damage to Your Product"
    control_type: toggle
    default: false

  cgl.recall_expense:
    label: "Recall Expense"
    control_type: toggle
    default: false

field_groups:
  - name: "Policy"
    fields: [policy.status, cgl.amount_band]
  - name: "Loss Details"
    fields: [cgl.loss_type, cgl.occurrence_during_policy, cgl.in_coverage_territory]
  - name: "Exclusion Factors"
    fields: [cgl.expected_intended, cgl.pollution_related, cgl.auto_involved, cgl.contractual_liability, cgl.professional_services, cgl.your_work_product, cgl.liquor_liability, cgl.employers_liability, cgl.aircraft_watercraft, cgl.damage_to_your_product, cgl.recall_expense]
  - name: "Legal Status"
    fields: [cgl.lawsuit_filed]

evidence:
  - { id: claim_notice, label: "Claim Notice", default: true }
  - { id: incident_report, label: "Incident Report", default: true }
  - { id: police_report, label: "Police Report", default: false }
  - { id: medical_records, label: "Medical Records (BI)", default: false }
  - { id: repair_estimates, label: "Repair Estimates (PD)", default: false }
  - { id: witness_statements, label: "Witness Statements", default: false }
  - { id: contract_agreement, label: "Contract/Agreement", default: false }
  - { id: lawsuit_documents, label: "Lawsuit Documents", default: false }

evidence_rules:
  - when: { true: [cgl.lawsuit_filed] }
    require_evidence: [lawsuit_documents]
    missing_behavior: warn
  - when: { eq: [cgl.loss_type, bodily_injury] }
    require_evidence: [medical_records]
    missing_behavior: warn

decision_rules:
  - when: { ne: [policy.status, active] }
    outcome:
      decision: deny
      code: CGL_DENY_POLICY_STATUS
      label: "DENY"
      severity: critical
      citations: ["CGL:Policy Not Active"]

  - when: { false: [cgl.occurrence_during_policy] }
    outcome:
      decision: deny
      code: CGL_DENY_NOT_POLICY
      label: "DENY"
      severity: critical
      citations: ["CGL:Occurrence Not During Policy"]

  - when: { false: [cgl.in_coverage_territory] }
    outcome:
      decision: deny
      code: CGL_DENY_TERRITORY
      label: "DENY"
      severity: critical
      citations: ["CGL:Outside Coverage Territory"]

  - when: { true: [cgl.expected_intended] }
    outcome:
      decision: deny
      code: CGL_DENY_INTENT
      label: "DENY"
      severity: critical
      citations: ["CGL:Intended Injury"]

  - when: { true: [cgl.pollution_related] }
    outcome:
      decision: deny
      code: CGL_DENY_POLLUTION
      label: "DENY"
      severity: critical
      citations: ["CGL:Pollution Exclusion"]

  - when: { true: [cgl.auto_involved] }
    outcome:
      decision: deny
      code: CGL_DENY_AUTO
      label: "DENY"
      severity: critical
      citations: ["CGL:Auto Exclusion"]

  - when: { true: [cgl.professional_services] }
    outcome:
      decision: deny
      code: CGL_DENY_PROF
      label: "DENY"
      severity: critical
      citations: ["CGL:Professional Services Exclusion"]

  - when: { true: [cgl.contractual_liability] }
    outcome:
      decision: deny
      code: CGL_DENY_CONTRACT
      label: "DENY"
      severity: critical
      citations: ["CGL:Contractual Liability Exclusion"]

  - when: { true: [cgl.liquor_liability] }
    outcome:
      decision: deny
      code: CGL_DENY_LIQUOR
      label: "DENY"
      severity: critical
      citations: ["CGL:Liquor Liability Exclusion"]

  - when: { true: [cgl.employers_liability] }
    outcome:
      decision: deny
      code: CGL_DENY_EMPLOYERS
      label: "DENY"
      severity: critical
      citations: ["CGL:Employers Liability Exclusion"]

  - when: { true: [cgl.aircraft_watercraft] }
    outcome:
      decision: deny
      code: CGL_DENY_AIRCRAFT
      label: "DENY"
      severity: critical
      citations: ["CGL:Aircraft/Watercraft Exclusion"]

  - when: { true: [cgl.damage_to_your_product] }
    outcome:
      decision: deny
      code: CGL_DENY_YOUR_PRODUCT
      label: "DENY"
      severity: critical
      citations: ["CGL:Damage to Your Product"]

  - when: { true: [cgl.recall_expense] }
    outcome:
      decision: deny
      code: CGL_DENY_RECALL
      label: "DENY"
      severity: critical
      citations: ["CGL:Recall Expense Exclusion"]

  - when: { in: [cgl.amount_band, ["100k_500k", "500k_plus"]] }
    outcome:
      decision: escalate
      code: CGL_ESCALATE_HIGH_VALUE
      label: "ESCALATE (Manager)"
      severity: warning
      citations: ["Internal:HighValue"]

  - when: { true: [cgl.lawsuit_filed] }
    outcome:
      decision: escalate
      code: CGL_ESCALATE_COUNSEL
      label: "ESCALATE (Claims Counsel)"
      severity: warning
      citations: ["Internal:CounselReferral"]

  - when: { default: true }
    outcome:
      decision: pay
      code: CGL_PAY_BASE
      label: "PAY"
      severity: normal
      citations: ["CGL:Insuring Agreement"]

expected_outcomes:
  - { scenario: "Slip & fall on premises", outcome: "PAY" }
  - { scenario: "Policy lapsed/cancelled", outcome: "DENY (Policy Status)" }
  - { scenario: "Occurrence not during policy", outcome: "DENY (Not During Policy)" }
  - { scenario: "Outside coverage territory", outcome: "DENY (Territory)" }
  - { scenario: "Expected/intended injury", outcome: "DENY (Intentional)" }
  - { scenario: "Pollution event", outcome: "DENY (Pollution)" }
  - { scenario: "Auto involved", outcome: "DENY (Auto Exclusion)" }
  - { scenario: "Professional services", outcome: "DENY (Professional - need E&O)" }
  - { scenario: "Contractual liability", outcome: "DENY (Contractual)" }
  - { scenario: "Liquor liability", outcome: "DENY (Liquor)" }
  - { scenario: "Employee injury", outcome: "DENY (Employers Liability - need WC)" }
  - { scenario: "Aircraft/watercraft", outcome: "DENY (Aircraft/Watercraft)" }
  - { scenario: "Damage to your product", outcome: "DENY (Your Product)" }
  - { scenario: "Recall expense", outcome: "DENY (Recall)" }
  - { scenario: "Claim > $100K", outcome: "ESCALATE (Manager)" }
  - { scenario: "Lawsuit filed", outcome: "ESCALATE (Claims Counsel)" }
